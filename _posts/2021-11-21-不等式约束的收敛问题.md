---
layout: post
title: 不等式约束的收敛问题
description: 列车运控优化的建模过程中，有一个重要的约束条件不能被违反，这一约束就是能量守恒定律所带来的能量平衡约束，该约束确保能量平衡在车辆运行过程中得到保障。在“动能定理的能量边界”一文中，我们介绍优化模型给出了车辆运行的能耗边界。在本文中，我们介绍通过优化算法，可以自然地利用算法寻优，得到这一节能的边界，也即在能耗最小条件下，如何既满足了能量守恒的边界条件，同时得到能耗最小的最优值，从而获取对应能耗最低的最优解。
date: 2021-11-21
category: featured
tag:
- academic
- optimal train control
- optimization
- inequality constraints 
- convergency
---

![High Speed Trains](/images/blog/HSR_1_comp.png "High Speed Trains")

在利用混合整数规划算法的列车最优运行优化模型里面，有两个关于车辆在不同运行状态下的能量平衡约束。

$$ \begin{align} 
\label{eq:energy_cons_3}
E_i\eta_i-Mg\Delta h_i-\frac{1}{2}M(v_{i+1}^2-v_i^2)-f_{i,d}\Delta d_i &\geq 0\\
E_i/\eta_i-Mg\Delta h_i-\frac{1}{2}M(v_{i+1}^2-v_i^2)-f_{i,d}\Delta d_i &\geq 0
\end{align} $$

以上两式分别表示车辆在牵引条件和制动条件下的两个能量平衡方程式。

其中，$$E_i$$表示在一个计算步长，如计算时间和计算距离内，车辆从电网或者外部能源所获得的或者再生的能量，该能量进行累加，从而得到列车运行过程中的净能耗。$$\eta_i$$为车辆牵引系统的效率常数。如果假设列车牵引系统为百分之百的效率，这部分能量就是电机直接消纳或者电机再生的能量。

$$M$$为车辆的质量，$$g$$为重力加速度，$$\Delta h_i$$为一个计算步长内的高度变化。$$Mg\Delta h_i $$总体表示车辆在一个计算步长内的重力势能变化。

$$\frac{1}{2}M(v_{i+1}^2-v_i^2)$$为一个计算步长内车辆的动能变化，其中$$v_{i+1}$$和$$v_i$$分别表示车辆在计算步长两端的车辆瞬时速度。

$$f_{i,d}\Delta d_i $$为一个计算步长内阻力做的功，$$ f_{i,d}$$为一个计算步长内的阻力, $$\Delta d_i$$为计算步长内的距离。

不论是基于距离步长还是时间步长，每个步长所对应的时间和距离都能够通过模型中距离等于速度乘以时间而直接转换。 

根据优化目标最小化$$\sum E_i$$，可以得到以下定理：当模型取得最优解的时候，最优解一定在等式上取得。该结论证明可以通过反证法来实现。假设模型在取得最优解的时候，最优解并不在等式上取得，假设该最优解为$$E_i^*$$，并假设$$E_i^e$$为约束条件等式成立所对应的值。可以看出，车辆处于牵引状态：$$E_i^e> E_i^*\geq 0$$；车辆处于制动状态：$$E_i^*< E_i^e\leq 0$$。也即，当前由不等式而得到最优解并非最优，因为总能找到能够让最优解更优的解，由此得到和假设相反的结论，从而证明模型在取得最优解的时候，只能在等式上得到。

在“动能定理的能量边界”一文中，我们介绍优化模型给出了车辆运行的能耗边界。在本文中，我们介绍通过优化算法，可以自然地利用算法寻优，得到这一节能的边界，也即在能耗最小条件下，如何既满足了能量守恒的边界条件，同时得到能耗最小的最优值，从而获取对应能耗最低的最优解。

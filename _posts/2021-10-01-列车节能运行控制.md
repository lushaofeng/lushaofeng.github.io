---
layout: post
title: 列车节能运行控制简介
# date element overrides date in title format.
description: "列车节能运行控制讨论的是一个如何将列车开得更加节能的问题。不论是高铁还是城轨还是其他轨道交通的车辆，列车在两个站台中运行，其中列车运行的一个重要要求是能够在时刻表规定的时间内跑完全程。问题就在于，如何在规定的时间内跑完全程，同时列车可以使用最少的牵引能量。Example content from lanyon. If page description is more than 140 words, it will be shown as post summary on home page and blog index else post excerpt will be shown. Same rule is for html meta description: >140 words in description or first 50 words of posts will be shown as summary. Page excerpt supports markdown formatted summary."
date: 2021-10-02
tag:
  - academic
  - research
  - train optimal control
---

## 列车节能运行控制
简而言之，列车节能运行控制讨论的是一个如何将列车开得更加节能的问题。不论是高铁还是城轨还是其他轨道交通的车辆，列车在两个站台中运行，其中列车运行的一个重要要求是能够在时刻表规定的时间内跑完全程。问题就在于，如何在规定的时间内跑完全程，同时列车可以使用最少的牵引能量。

## 列车运动学模型
为了将问题简单化，列车被视作单质点。列车在轨道上运行过程，是一个一维的列车运动学问题（Kinematics of Trains）。那么怎么理解这个维度为一的运动学问题呢？在列车运行过程中的任意时间点，列车的质点将对应一个当下的损失速度、距离和时间。如果将这三者构成一个具有三个元素的状态点，很容易在空间中套用图论中的最短路径搜索来进行研究。关于这点，我们将在后续的文章中进行详细解释。

我们尝试构建单质点列车运动学模型。在该模型中，以某一较短的单位时间作为计算的时间步长。那么列车从初始状态开始，以零速度从站台出发，刚开始施加牵引力使列车增加速度直到最高速度，然后保持速度，到达下一个站台的时候，列车开始减速。在每个时间步长，列车牵引系统施加某一个牵引力或者制动力，在同一时间步长内，假设列车施加的是恒定的牵引力，恒定阻力和坡度带来的受力，因此具有恒定加速度。可以看到，当时间步长逐渐减少的时候，这一模型将逐渐接近连续的模型了。 

回过来看，每个时间步长内，对列车施加某一恒定的牵引力或制动力，因此列车将在一个时间步长内，以固定的加速度从某一速度到另外一个速度点跃迁。这个跃迁很容易用经典的牛顿力学原理来计算。例如，使用方程式 \eqref{eq:kinematic_1} 可以计算出在固定加速度条件下的某一段距离内，从起始速度$v_o$和末端速度$v_t$的关系。

$$ \begin{equation} \label{eq:kinematic_1} v_t^2-v_0^2=2 a s \end{equation} $$

在每一个计算步长，可以选择在当前列车速度所决定的可行的牵引力范围选择某一个牵引力，然后计算下一个速度点的值。该牵引力可以选择使用由初始速度决定的最大牵引力作为列车运行的牵引力，直到列车达到限速之后，再将牵引力设置为当前的阻力和重力在坡度的分量共同之和。在满足牵引系统、限速和运行总时间等约束条件下，列车需要合理控制好每一个时间步长内施加的固定牵引力或者制动力，使其得以在规定的时间内完成整个旅途。可以看出，在固定的运行时间下，列车能够用无数种运行方式来满足运行需求，不过最优控制理论证明，能耗最小的运行方式有且仅有一种。这一研究结果是利用最优控制理论中的庞特里亚金最大值原理（Pontryagin's Maximum Principle，PMP）来证明的。

## 面向节能的列车最优控制
列车最优控制（Train Optimal Control）是列车节能运行控制领域的经典理论，其主要的思想是根据列车运行的动力学方程，建立汉密尔顿方程（Hamiltonian）。根据PMP原理，可根据最优控制策略的最优必要条件，推导出列车最优控制的五个基本策略，以实现最小的机械能耗。
* 最大牵引操纵
* 最大制动操纵
* 部分牵引操纵
* 部分制动操纵
* 惰行操纵
这五种操纵分别交互进行，共同构成列车最优运控的总体策略。最优控制理论利用伴随变量的计算来搜索列车在那里开始进行最优控制中的某一个操纵策略，最后实现列车的节能运行控制策略。

我们在过去的研究中，避开了利用最优控制理论的间接方法，直接构建了以能耗作为优化目标，以列车运行速度点为优化决策变量，并利用混合整数规划将列车牵引特性，阻力方程的非线性关系线性化，直接解算。计算速度和计算结果均取得较理想的计算结果。

## 小结
在本篇博文中，我们简单介绍了列车节能运行控制、列车运动学模型和仿真、和列车最优控制的相关内容。列车节能控制尝试寻找列车节能的运行操纵方式。由列车运动学模型可以看到，该操纵方式由牵引系统提供的牵引力和制动力来决定。为了能够找到列车最优控制策略以实现列车机械能耗的最小化，可以采用经典的列车最优控制理论（通过伴随方程的间接方法）或者采用数学规划算法（通过建模的直接方法）来实现最优的操纵策略。
